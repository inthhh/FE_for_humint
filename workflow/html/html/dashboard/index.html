<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <!-- 2022-10-27 -->
    <meta
      name="viewport"
      content="user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, initial-scale=1.0, width=device-width, viewport-fit=cover"
    />
    <!-- <meta name="viewport" content="width=device-width, initial-scale=1.0"> -->

    <link rel="shortcut icon" href="../../../favicon.ico" type="image/x-icon" />

    <title>Connect Workflow</title>

    <!-- CSS -->
    <link
      rel="stylesheet"
      type="text/css"
      href="../../../assets/css/font.css"
    />

    <link
      rel="stylesheet"
      type="text/css"
      href="../../../assets/css/swiper.min.css"
    />
    <link
      rel="stylesheet"
      type="text/css"
      href="../../../assets/css/nice-select.css"
    />
    <link
      rel="stylesheet"
      type="text/css"
      href="../../../assets/css/daterangepicker.css"
    />
    <link rel="stylesheet" type="text/css" href="../../css/common.css" />
    <link rel="stylesheet" type="text/css" href="../../css/sub.css" />
    <link rel="stylesheet" type="text/css" href="../../css/dashboard.css" />

    <!-- JS -->
    <script src="../../../assets/js/jquery-3.1.1.min.js"></script>
    <script src="../../../assets/js/delighters.js"></script>
    <script src="../../../assets/js/swiper.min.js"></script>
    <script src="../../../assets/js/jquery.nice-select.min.js"></script>
    <script src="../../../assets/js/numberCounting.js"></script>
    <script src="../../../assets/js/TweenMax.min.js"></script>
    <script src="../../../assets/js/moment.min.js"></script>
    <script src="../../../assets/js/daterangepicker.min.js"></script>
    <script src="../../js/ui.js"></script>
    <script src="../../js/page.js"></script>

    <script src="../../../assets/js/progressbar.js"></script>
    <!-- Include Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Include Chart.js Datalabels plugin -->
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels"></script>
  </head>

  <body>
    <div id="wrap">
      <!-- php수정 include header(s) -->
      <header
        class="header-wrap"
        data-include="../layout/include_header.html"
      ></header>
      <!-- php수정 include header(e) -->
      <main class="container dashboard">
        <div class="title-wrap">
          <h3 class="title-type">Dashboard</h3>
        </div>

        <section class="status-wrap">
          <div class="title-wrap">
            <h2>
              이번달<br />
              에픽티겟 현황
            </h2>
            <a href="#" class="btn-help"
              ><span class="hidden">도움말</span><i class="ico-help"></i
            ></a>
          </div>
          <dl>
            <dt>Total epic tickets</dt>
            <dd class="status-score">
              <a href="../epicTicket/list.html"
                ><strong class="number1">241</strong></a
              >
            </dd>
            <dd class="terms">This month</dd>
          </dl>
          <dl>
            <dt>Closed epic ticket</dt>
            <dd class="status-score">
              <strong class="number2">241</strong><span>/</span><span>241</span>
            </dd>
            <dd class="terms">This month</dd>
          </dl>
          <dl>
            <dt>Total revenue (KRW)</dt>
            <dd class="status-score">
              <strong>₩1,320,000,000</strong>
            </dd>
            <dd class="terms">This month</dd>
          </dl>
          <dl>
            <dt>High prority</dt>
            <dd class="status-score v2">
              <strong>6</strong>
            </dd>
            <dd class="terms">This month</dd>
          </dl>
          <dl>
            <dt>Overdue tickets</dt>
            <dd class="status-score v2">
              <strong>31</strong>
            </dd>
            <dd class="terms">This month</dd>
          </dl>
          <dl>
            <dt>Overdue tickets</dt>
            <dd class="status-score v2">
              <strong>3</strong>
            </dd>
            <dd class="terms">This month</dd>
          </dl>
        </section>

        <section class="status-wrap">
          <div class="title-wrap">
            <h2>
              이번달<br />
              스토리 티겟 현황
            </h2>
            <a href="#" class="btn-help"
              ><span class="hidden">도움말</span><i class="ico-help"></i
            ></a>
          </div>
          <dl>
            <dt>Total story tickets</dt>
            <dd class="status-score">
              <a href="../storyTicketgit /list.html"
                ><strong class="number3">4,431</strong></a
              >
            </dd>
            <dd class="terms">This month</dd>
          </dl>
          <dl>
            <dt>Closed epic ticket</dt>
            <dd class="status-score">
              <strong class="number4">4,210</strong><span>/</span
              ><span>4,431</span>
            </dd>
            <dd class="terms">This month</dd>
          </dl>
          <dl>
            <dt>Average work load</dt>
            <dd class="status-score">
              <strong>124%</strong>
            </dd>
            <dd class="terms">This month</dd>
          </dl>
          <dl>
            <dt>High prority</dt>
            <dd class="status-score v2">
              <strong>298</strong>
            </dd>
            <dd class="terms">This month</dd>
          </dl>
          <dl>
            <dt>Overdue tickets</dt>
            <dd class="status-score v2">
              <strong>210</strong>
            </dd>
            <dd class="terms">This month</dd>
          </dl>
          <dl>
            <dt>Overdue tickets</dt>
            <dd class="status-score v2">
              <strong>3</strong>
            </dd>
            <dd class="terms">This month</dd>
          </dl>
        </section>

        <section class="content-wrap">
          <dl class="content-box">
            <dt>
              마감일 초과 스토리 티켓
              <a href="#" class="btn-help"
                ><span class="hidden">도움말</span><i class="ico-help"></i
              ></a>
            </dt>
            <dd>
              <div class="graph-box semi-circle-area">
                <div id="semiCircle"></div>
                <div class="graph-number">432/302</div>
                <ul>
                  <li>
                    <span class="circle"></span
                    ><span class="text"><em>69%</em>초과</span>
                  </li>
                  <li>
                    <span class="circle"></span
                    ><span class="text"><em>31%</em>준수</span>
                  </li>
                </ul>
              </div>
            </dd>
          </dl>
          <dl class="content-box v2">
            <dt>프로젝트 진행 현황</dt>
            <dd>
              <div class="graph-box">
                <canvas id="myChart"></canvas>
              </div>
            </dd>
          </dl>
          <dl class="content-box">
            <dt>담당자별 진행중인 프로젝트(에픽 티켓) 개개수</dt>
            <dd>
              <canvas id="epicChart"></canvas>
            </dd>
          </dl>
        </section>

        <section class="content-wrap col2">
          <dl class="content-box">
            <dt>
              월간 수익 쉐어 현황
              <a href="#" class="btn-help"
                ><span class="hidden">도움말</span><i class="ico-help"></i
              ></a>
            </dt>
            <dd>
              <canvas id="lineChart"></canvas>
            </dd>
          </dl>
          <div class="content-box">
            <div class="share-money">
              <strong>₩ 987,256.98</strong>
              <p>2023년도 총 매출</p>
            </div>
            <div class="share-money">
              <strong>₩ 901,256.01</strong>
              <p>9월 매출</p>
            </div>
            <div class="share-money">
              <strong>₩ 87,256.98</strong>
              <p>Gross amount</p>
            </div>
          </div>
        </section>
      </main>
    </div>
  </body>
  <script>
    $(function () {
      $(".number1").numberCounting({
        counting: 241,
        terms: 10,
        countingTime: 50,
      });
      $(".number2").numberCounting({
        counting: 241,
        terms: 10,
        countingTime: 50,
      });
      $(".number3").numberCounting({
        counting: 4431,
        terms: 10,
        countingTime: 50,
        comma: true,
      });
      $(".number4").numberCounting({
        counting: 4210,
        terms: 10,
        countingTime: 50,
        comma: true,
      });

      //프로젝트 진행 현황(s)
      const ctx = document.getElementById("myChart");
      const dataSet = [30, 10, 25, 8];

      const labels = ["보류", "진행 중", "재확인", "종료"];
      const datasets = {
        labels: labels,
        datasets: [
          {
            label: "프로젝트 진행 현황 ",
            data: dataSet,

            backgroundColor: [
              "rgba(211, 187, 254, 1)",
              "rgba(211, 187, 254, 1)",
              "rgba(110, 57, 203, 1)",
              "rgba(211, 187, 254, 1)",
            ],
            borderColor: [],
            borderWidth: 0,
            barThickness: 26, // 막대의 가로 넓이
            minBarLength: 4,
          },
        ],
      };
      const config = {
        type: "bar",
        data: datasets,
        options: {
          responsive: true,
          scales: {
            //x,y축 설정
            y: {
              ticks: {
                stepSize: 10, //y축 간격
                suggestedMin: 0, //y축 최소 값
                suggestedMax: 30, //y축 최대값
              },
              grid: {},
            },
            x: {
              grid: {
                display: false,
              },
            },
          },
          plugins: {
            legend: {
              position: "top",
              display: false,
            },
            title: {
              display: false,
              text: "프로젝트 진행 현황",
            },
          },
          elements: {
            bar: {
              borderRadius: 7,
            },
          },
        },
      };

      const chart1 = new Chart(ctx, config);
      //프로젝트 진행 현황(e)

      //마감일 초과 스토리 티켓(s)
      var bar = new ProgressBar.SemiCircle(semiCircle, {
        strokeWidth: 6,
        color: "#6E39CB",
        trailColor: "#D3BBFE",
        trailWidth: 6,
        easing: "easeInOut",
        duration: 1400,
        svgStyle: null,
        text: {
          color: "#3A3541",
          value: "69",
          alignToBottom: false,
        },
        from: { color: "#6E39CB" },
        to: { color: "#6E39CB" },
        // Set default step function for all animate calls
        step: (state, bar) => {
          bar.path.setAttribute("stroke", state.color);
          var value = Math.round(bar.value() * 100);
          if (value === 0) {
            bar.setText("");
          } else {
            bar.setText(value + "%");
          }

          bar.text.style.color = state.color;
        },
      });
      bar.text.style.fontFamily = '"Raleway", Helvetica, sans-serif';
      bar.text.style.fontSize = "2rem";

      bar.animate(0.69);
      //마감일 초과 스토리 티켓(e)

      //담당자별 진행중인 프로젝트(에픽 티켓) 개개수(s)
      const epicData = {
        labels: [
          "Person 1",
          "Person 2",
          "Person 3",
          "Person 4",
          "Person 5",
          "Person 6",
          "Person 7",
          "Person 8",
          "Person 9",
        ],
        datasets: [
          {
            label: "", // 레이블 숨기기
            data: [270, 220, 130, 240, 150, 260, 270, 220, 130],
            backgroundColor: "#D3BBFE",
            borderColor: "#6E39CB",
            borderWidth: 0,
            barThickness: 8, // 막대의 가로 넓이,
            pointStyle: "circle",
          },
        ],
      };

      const epicConfig = {
        type: "bar",
        data: epicData,
        options: {
          responsive: true,
          scales: {
            //x,y축 설정
            y: {
              ticks: {
                stepSize: 100, //y축 간격
                suggestedMin: 0, //y축 최소 값
                suggestedMax: 300, //y축 최대값
              },
              beginAtZero: true,
              grid: {
                tickBorderDash: [5],
                tickBorderDashOffset: 5,
              },
            },
            x: {
              grid: {
                display: false,
              },
            },
          },
          elements: {
            bar: {
              borderRadius: 15,
            },
          },

          plugins: {
            legend: {
              display: false,
            },
            datalabels: {
              display: false,
            },
          },
        },
      };

      const epicChart = new Chart("epicChart", epicConfig);
      //담당자별 진행중인 프로젝트(에픽 티켓) 개개수(e)

      //월간 수익 쉐어 현황(s)
      const lineChart = document.getElementById("lineChart");

      new Chart(lineChart, {
        type: "line",
        data: {
          labels: [25.1, 25.2, 25.3, 25.4, 25.6, 25.7, 25.8],
          datasets: [
            {
              label: "My First Dataset1",
              data: [0, 80, 30, 40, 20, 80, 0],
              fill: false,
              borderColor: "rgba(110, 57, 203, 0.7)",
              tension: 0.3,
              borderDash: [6, 6],
            },
            {
              label: "My First Dataset2",
              data: [0, 160, 80, 90, 10, 75, 10],
              fill: false,
              borderColor: "rgba(83, 63, 228, 0.7)",
              tension: 0.3,
              borderDash: [6, 6],
            },
            {
              label: "My First Dataset3",
              data: [0, 80, 220, 80, 30, 150, 10],
              fill: false,
              borderColor: "rgba(249, 49, 49, 0.7)",
              tension: 0.3,
              borderDash: [6, 6],
              borderCapStyle: "round",
              borderDashOffset: [4, 2],
            },
          ],
        },
        options: {
          responsive: true,
          scales: {
            //x,y축 설정
            y: {
              ticks: {
                stepSize: 50, //y축 간격
                suggestedMin: 0, //y축 최소 값
                suggestedMax: 250, //y축 최대값
              },
              beginAtZero: true,
            },
            x: {
              grid: {
                display: false,
              },
            },
          },
          plugins: {
            legend: {
              position: "top",
              display: false,
            },
            title: {
              display: false,
            },
            elements: {
              bar: {
                borderRadius: 0.5,
              },
            },
          },
        },
      });

      //월간 수익 쉐어 현황(e)
    });
  </script>
</html>
